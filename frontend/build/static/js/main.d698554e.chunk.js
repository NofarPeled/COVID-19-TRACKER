(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,t,n){e.exports=n(70)},67:function(e,t,n){e.exports=n.p+"static/media/loader.38ed5da9.svg"},68:function(e,t,n){e.exports=n.p+"static/media/corona-virus.ee2cd1d9.png"},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),u=n(3),s=n(11),i=n(35),l=n(16),m=n(10),p=n(20),f=n.n(p),d=n(36),h=n.n(d),v=function(e){var t=e.graphInfo,n={title:{text:t.title},series:[{data:t.numList,title:"Confimed"}],xAxis:{categories:t.xList},colors:["green"]};return r.a.createElement("div",{className:"high-charts-graph"},r.a.createElement(h.a,{Highcharts:f.a,options:n}))},E=n(38),y=function(e){var t=e.countries,n=Object(a.useState)({order:1,key:"Total Cases"}),c=Object(E.a)(n,2),o=c[0],u=c[1],s=Object.keys(t.data[0]).map((function(e){return r.a.createElement("th",{key:e,onClick:function(){return u({order:o.key===e?-1*parseInt(o.order):o.order,key:e})}},r.a.createElement("h4",{className:"table-header-title"},e,r.a.createElement("span",{className:"sort-arrow"},"\u2195")))})),i=t.data.sort((function(e,t){var n=-1===o.order?e:t,a=-1===o.order?t:e;return isFinite(n[o.key]-a[o.key])?n[o.key]-a[o.key]:isFinite(n[o.key])?-1:1})).map((function(e){return r.a.createElement("tr",{key:"".concat(e["Country, Other"],"-tr")},Object.values(e).map((function(t,n){return r.a.createElement("td",{key:"".concat(n,"-").concat(e["Country, Other"],"-td")},t)})))}));return r.a.createElement("section",{className:"country-cases-section"},r.a.createElement("table",{className:"country-case-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,s)),r.a.createElement("tbody",null,i)))},g=function(e){var t=e.select,n=t.options.map((function(e){return r.a.createElement("option",{key:e.title,value:e.value,name:t.name},e.title)}));return r.a.createElement("select",{className:"filter-by-select",defaultValue:t.default,onChange:function(n){e.filterSelected({name:t.name,value:n.target.value})}},n)},b=n(2),N=n.n(b),C=n(8),O={SET_COUNTRY:"SET_COUNTRY",SET_COUNTRIES:"SET_COUNTRIES",SET_COUNTRIES_NAMES_LIST:"SET_COUNTRIES_NAMES_LIST"},k=n(14),w=n.n(k);function S(){return(S=Object(C.a)(N.a.mark((function e(t){var n,a,r,c,o=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"get",a=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:null,e.prev=3,e.next=6,w()({url:"/api/"+t,method:n,data:a,params:r});case 6:return c=e.sent,e.abrupt("return",c.data);case 10:throw e.prev=10,e.t0=e.catch(3),e.t0.response.data.error;case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}w.a.defaults.withCredentials=!0;var T=function(e,t,n){return function(e){return S.apply(this,arguments)}(e,"GET",t,n)},j={getFormatDate:function(e){return e=new Date(e||""),"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())}};var x={getAllCountries:function(){return I.apply(this,arguments)},getByCountry:function(e){return R.apply(this,arguments)},getCountriesNamesList:function(){return _.apply(this,arguments)}};function I(){return(I=Object(C.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("tracker");case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function R(){return(R=Object(C.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||(localStorage.getItem("country")?localStorage.getItem("country"):"Israel"),e.prev=1,e.next=4,w.a.get("https://api.covid19api.com/total/country/".concat(t));case 4:return n=e.sent,localStorage.setItem("country",t),e.abrupt("return",{data:n.data,createdAt:j.getFormatDate(new Date)});case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function _(){return(_=Object(C.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("https://api.covid19api.com/countries");case 3:return t=e.sent,n=t.data.sort((function(e,t){return e.Country<t.Country?-1:1})),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var L=function(e){return{type:O.SET_COUNTRY,country:e}},U=function(e){return function(){var t=Object(C.a)(N.a.mark((function t(n){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getByCountry(e);case 3:a=t.sent,n(L(a)),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},A=function(e){var t=Object(u.b)(),n=e.country,a=e.countriesNameList.map((function(e){return{value:e.Country,title:e.Country}}));return r.a.createElement("section",{className:"filter-countries-section"},r.a.createElement(g,{select:{name:"country",options:a,default:n},filterSelected:function(e){t(U(e.value))}}))},D=function(e){var t=Object(u.c)((function(e){return e.trackerReducer.country})),n=Object(u.c)((function(e){return e.trackerReducer.countries})),a=Object(u.c)((function(e){return e.trackerReducer.countriesNames}));return r.a.createElement("section",{className:"navbar-section"},!(!a||null===t)&&r.a.createElement(A,{country:t.data[0].Country,countriesNameList:a}),e.path&&null!==t?r.a.createElement(l.b,{className:"navbar-navlink",to:"/"},"Home Page"):!e.path&&null!==t&&r.a.createElement(l.b,{className:"navbar-navlink",to:"/country/".concat(t.data[0].Country)},t.data[0].Country," Status Page"),r.a.createElement("h6",{className:"last-update-time"},"Last Update Date ",e.path&&null!==t?t.createdAt:n?n.createdAt:"Unknown"))},F=function(){return r.a.createElement("section",{className:"loader-section"},r.a.createElement("img",{src:n(67),className:"loader-img",alt:"loading"}))},M=function(){var e=Object(u.c)((function(e){return e.trackerReducer.country})),t=Object(u.c)((function(e){return e.trackerReducer.countries})),n=e?{numList:e.data.map((function(e){return e.Confirmed})),xList:e.data.map((function(e){return j.getFormatDate(e.Date)})),title:e.data[0].Country?"Total Coronavirus Cases in ".concat(e.data[0].Country):"Couldn't Find Information About this Country, Try Different Country"}:null;return r.a.createElement("section",{className:"home-page-section"},r.a.createElement(D,null),null!==e?r.a.createElement(v,{graphInfo:n}):r.a.createElement(F,null),null!==t?r.a.createElement(y,{countries:t}):r.a.createElement(F,null))},Y=function(e){var t=e.graphCategories,n=e.country,a=t.map((function(e,t){return r.a.createElement("li",{className:"graph-preview-li",key:"".concat(t,"-graph-preview")},r.a.createElement(v,{graphInfo:{numList:n.data.map((function(t){return t[e]})),xList:n.data.map((function(e){return j.getFormatDate(e.Date)})),title:"".concat(e," Coronavirus Cases in ").concat(n.data[0].Country)}}))}));return r.a.createElement("ul",{className:"graph-list-section clean-list"},a)},B=function(e){var t=Object(u.b)(),n=e.match.params.countryName,c=Object(u.c)((function(e){return e.trackerReducer.country}));return Object(a.useEffect)((function(){t(U(n))}),[]),r.a.createElement("section",{className:"country-page-section"},r.a.createElement(D,{path:"/".concat(n)}),null!==c?r.a.createElement(Y,{graphCategories:["Confirmed","Active","Recovered","Deaths"],country:c}):r.a.createElement(F,null))},H=function(){return r.a.createElement("section",{className:"header-section"},r.a.createElement("img",{src:n(68),alt:"corona-virus-img",className:"header-logo"}),r.a.createElement("span",{className:"header-circle-clip-path"}),r.a.createElement("h2",{className:"header-title"},"Coronavirus Tracker"))},J=(n(69),function(){var e=Object(u.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(C.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getAllCountries();case 3:n=e.sent,t({type:O.SET_COUNTRIES,countries:n}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e(U()),e(function(){var e=Object(C.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getCountriesNamesList();case 3:n=e.sent,t({type:O.SET_COUNTRIES_NAMES_LIST,countriesNames:n}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())})),r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(H,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/country/:name",component:B}),r.a.createElement(m.a,{path:"/",component:M}))))}),P=n(12),W={country:null,countries:null,countriesName:[]},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.SET_COUNTRIES:return Object(P.a)(Object(P.a)({},e),{},{countries:t.countries});case O.SET_COUNTRY:return Object(P.a)(Object(P.a)({},e),{},{country:t.country});case O.SET_COUNTRIES_NAMES_LIST:return Object(P.a)(Object(P.a)({},e),{},{countriesNames:t.countriesNames});default:return e}},V=Object(s.c)({trackerReducer:G});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $=Object(s.d)(V,Object(s.a)(i.a));o.a.render(r.a.createElement(u.a,{store:$},r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.d698554e.chunk.js.map